{% extends 'admin_nav.html'%}
{% load static %}

{% block body%}

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.3.0/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdn.datatables.net/1.13.7/css/dataTables.bootstrap5.min.css">
<script src="https://code.jquery.com/jquery-3.7.0.js"></script>
<script src="https://cdn.datatables.net/1.13.7/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.13.7/js/dataTables.bootstrap5.min.js"></script>
<link rel="stylesheet" href="{% static 'css/mystyle.css' %}">
<script>
$(document).ready(function(){
    $('#example').DataTable();
});
</script>

<div class="container" style="overflow-x:auto;margin-top: 100px;">
    <h2 class="text-center">View Users</h2>
            <hr> 
    <table class="table table-bordered" id="example">
        <thead>
            <tr>
                <th>S.No</th>
                <th>Full Name</th>
                <th>Email ID</th>
                <th>Conatct</th>
                <th>Branch</th>
                <th>Role</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            {% for i in users %}
            <tr>
                <td>{{forloop.counter}}</td>
                <td>{{i.user.first_name}}{{i.user.last_name}}</td>
                <td>{{i.user.username}}</td>
                <td>{{i.contact}}</td>
                <td>{{i.branch}}</td>
                <td>{{i.role}}</td>
                <td><a href="{% url 'delete_user' i.user.id%}" class="btn btn-danger">delete</a></td>
            </tr>
            {%endfor%}
        </tbody>
    </table>
</div>

{%endblock%}